(function(e){function t(t){for(var n,s,c=t[0],o=t[1],l=t[2],d=0,g=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&g.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(g.length)g.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"07b6":function(e,t,a){"use strict";a("609a")},"0c3f":function(e,t,a){},"2e35":function(e,t,a){},"3c4e":function(e,t,a){"use strict";a("62be")},"416d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Header",{on:{"open-filter":function(t){e.isFilterOpened=!0},"close-filter":function(t){e.isFilterOpened=!1}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),a("Main",{attrs:{searchInput:e.searchInput,searchLanguage:e.searchLanguage,filterOpened:e.isFilterOpened}})],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"header"},[a("a",{staticClass:"header__brand",attrs:{href:"#"}},[e._v("BOOLFLIX")]),a("input",{staticClass:"header__search-input",attrs:{type:"text",placeholder:"Cerca film e serie tv..."},domProps:{value:e.inputValue},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("input",t.target.value)}}}),e.isFilterOpened?e._e():a("FontAwesomeIcon",{staticClass:"filter-icon",attrs:{icon:["fas","filter"]},on:{click:function(t){return e.onFilterClick()}}}),e.isFilterOpened?a("FontAwesomeIcon",{staticClass:"close-filter-icon",attrs:{icon:["fas","window-close"]},on:{click:function(t){return e.onCloseFilterClick()}}}):e._e()],1)},c=[],o=a("ad3d"),l={name:"Header",components:{FontAwesomeIcon:o["a"]},model:{prop:"inputValue",event:"input"},prop:{inputValue:String},data:function(){return{inputValue:"",isFilterOpened:!1}},methods:{onFilterClick:function(){this.isFilterOpened=!0,this.$emit("open-filter")},onCloseFilterClick:function(){this.isFilterOpened=!1,this.$emit("close-filter")}}},u=l,d=(a("f2ca"),a("2877")),g=Object(d["a"])(u,s,c,!1,null,"6b09419f",null),p=g.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main",class:{"show-filter":e.isFilterOpened}},[a("div",{staticClass:"sections"},[a("CardsContainer",{attrs:{apiKey:e.apiKey,searchInput:e.search,searchLanguage:e.searchLanguage,selectedGenres:e.selectedGenres,searchCategory:"movies",title:"Film"}}),a("CardsContainer",{attrs:{apiKey:e.apiKey,searchInput:e.search,searchLanguage:e.searchLanguage,selectedGenres:e.selectedGenres,searchCategory:"series",title:"Serie TV"}})],1),e.isFilterOpened?a("CardsFilter",{attrs:{genres:e.genres},on:{"click-genre":e.onClickGenre}}):e._e()],1)},f=[],v=a("2909"),_=(a("ac1f"),a("841c"),a("a434"),a("bc3a")),C=a.n(_),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h2",{staticClass:"title"},[e._v(e._s(e.title))]),a("div",{staticClass:"cardsGrid"},e._l(e.customCards,(function(t){return a("Card",{key:t.id,attrs:{posterPath:t.poster_path,title:t.title,originalTitle:t.original_title,language:t.original_language,voteAverage:t.vote_average,overview:t.overview},on:{"focus-card":function(t){e.focusOnCard=!0},"blur-card":function(t){e.focusOnCard=!1}},nativeOn:{click:function(a){return e.onCardClick(t)}}})})),1),e.focusOnCard&&0!==e.selectedCard.id?a("CardInfo",{attrs:{apiKey:e.apiKey,searchLanguage:e.searchLanguage,id:e.selectedCard.id,title:e.selectedCard.title,original_title:e.selectedCard.original_title,original_language:e.selectedCard.original_language,vote_average:e.selectedCard.vote_average,poster_path:e.selectedCard.poster_path,overview:e.selectedCard.overview}}):e._e()],1)},b=[],y=(a("d81d"),a("b0c0"),a("4de4"),a("d3b7"),a("159b"),a("caad"),a("2532"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card",attrs:{tabindex:"0"},on:{focus:function(t){return e.$emit("focus-card")},blur:function(t){return e.$emit("blur-card")}}},[a("img",{attrs:{src:e.posterPath,alt:""}}),a("div",{staticClass:"card__info"},[a("p",[a("span",{staticClass:"key"},[e._v("Titolo: ")]),e._v(e._s(e.title))]),e.originalTitle?a("p",[a("span",{staticClass:"key"},[e._v("Titolo originale: ")]),e._v(" "+e._s(e.originalTitle)+" ")]):e._e(),a("p",[a("span",{staticClass:"key"},[e._v("Lingua: ")]),a("LanguageFlag",{attrs:{language:e.language}})],1),a("p",[a("span",{staticClass:"key"},[e._v("Voto: ")]),a("FiveStarsRating",{attrs:{voteAverage:e.voteAverage}})],1),e.overview?a("p",{staticClass:"overview"},[a("span",{staticClass:"key"},[e._v("Overview: ")]),e._v(e._s(e.overview)+" ")]):e._e()])])}),k=[],w=(a("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",e._l(e.getStarsArray(),(function(e,t){return a("font-awesome-icon",{key:t,attrs:{icon:e}})})),1)}),O=[],F={name:"FiveStarsRating",components:{FontAwesomeIcon:o["a"]},props:{voteAverage:Number},methods:{getStarsArray:function(){for(var e=Math.ceil(this.voteAverage/2),t=[],a=0;a<5;a++)t.push(a<e?["fas","star"]:["far","star"]);return t}}},S=F,I=Object(d["a"])(S,w,O,!1,null,null,null),L=I.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e.languageFlag))])},j=[],x=(a("2ca0"),a("fb6a"),a("86f2")),G=a("dc3a"),P={name:"LanguageFlag",props:{language:String},computed:{languageFlag:function(){var e=this.getCountryfromLanguage();return Object(x["a"])(e)?Object(G["a"])(e):""}},methods:{getCountryfromLanguage:function(){var e=this;if("en"===this.language)return"GB";if("es"===this.language)return"ES";if("el"===this.language)return"GR";var t=a("e5d4"),n=t.getLanguage(this.language,(function(t,a){if(!t)return a.countries.map((function(e){return e.code_2})).filter((function(t){return t===e.language.toUpperCase()||t.startsWith(e.language.slice(0,1).toUpperCase())}))[0];console.log(t)}));return n}}},T=P,$=Object(d["a"])(T,A,j,!1,null,null,null),K=$.exports,E={name:"Card",components:{FiveStarsRating:L,LanguageFlag:K},props:{posterPath:String,title:String,originalTitle:String,language:String,voteAverage:Number,overview:String}},M=E,B=(a("07b6"),Object(d["a"])(M,y,k,!1,null,"3efcbfd8",null)),U=B.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container--card-info"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showInfos,expression:"showInfos"}],staticClass:"card-info",style:{"background-image":"url("+this.card.posterPath+")"}},[a("div",{staticClass:"card-info__info"},[a("div",[a("span",{staticClass:"key"},[e._v("Titolo:")]),e._v(" "+e._s(e.card.title))]),e.card.originalTitle?a("div",[a("span",{staticClass:"key"},[e._v("Original title:")]),e._v(" "+e._s(e.card.originalTitle)+" ")]):e._e(),a("div",[a("span",{staticClass:"key"},[e._v("Voto: ")]),a("FiveStarRating",{attrs:{voteAverage:e.card.voteAverage}})],1),a("div",[a("span",{staticClass:"key"},[e._v("Lingua: ")]),a("LanguageFlag",{attrs:{language:e.card.originalLanguage}})],1),e.card.genres.length>0?a("div",[a("span",{staticClass:"key"},[e._v("Generi:")]),e._v(" "+e._s(e.card.genres.join(", "))+" ")]):e._e(),e.card.actors.length>0?a("div",[a("span",{staticClass:"key"},[e._v("Cast:")]),e._v(" "+e._s(e.card.actors.join(", "))+"... ")]):e._e()]),a("div",{staticClass:"card-info__overview"},[e.card.overview?a("div",{staticClass:"overview-text"},[a("div",[a("span",{staticClass:"key"},[e._v("Overview:")]),e._v(" "+e._s(e.card.overview))])]):e._e()])])])},R=[],D={name:"CardInfo",components:{FiveStarRating:L,LanguageFlag:K},props:{apiKey:String,searchLanguage:String,id:Number,title:String,original_title:String,original_language:String,vote_average:Number,poster_path:String,overview:String},data:function(){return{apiUrl:"https://api.themoviedb.org/3/movie/",cardApiKey:this.apiKey,pendingCalls:0,showInfos:!1,card:{id:this.id,title:this.title,originalTitle:this.original_title,originalLanguage:this.original_language,voteAverage:this.vote_average,posterPath:this.poster_path,overview:this.overview,actors:[],genres:[]}}},methods:{fetchData:function(){var e=this;this.pendingCalls=2,C.a.get(this.apiUrl+this.card.id+"/credits",{params:{api_key:this.apiKey,language:this.searchLanguage}}).then((function(t){e.card.actors=[];for(var a=0;a<5;a++)t.data.cast[a]&&e.card.actors.push(t.data.cast[a].name)})).catch((function(t){console.log(t),e.card.actors=[]})).finally((function(){0===--e.pendingCalls&&e.populateCard()})),C.a.get(this.apiUrl+this.card.id,{params:{api_key:this.apiKey,language:this.searchLanguage}}).then((function(t){e.card.genres=[],t.data.genres.forEach((function(t){e.card.genres.push(t.name)}))})).catch((function(t){console.log(t),e.card.genres=[]})).finally((function(){0===--e.pendingCalls&&e.populateCard()}))},populateCard:function(){this.card.title=this.title,this.card.originalTitle=this.original_title,this.card.originalLanguage=this.original_language,this.card.voteAverage=this.vote_average,this.card.posterPath=this.poster_path,this.card.overview=this.overview,this.showInfos=!0}},watch:{id:function(e){this.card.id=e,this.fetchData()}},mounted:function(){this.fetchData()}},H=D,N=(a("b80b"),Object(d["a"])(H,V,R,!1,null,"7f1c67b1",null)),q=N.exports,J={name:"CardsContainer",components:{Card:U,CardInfo:q},props:{title:String,searchInput:String,searchCategory:String,searchLanguage:String,apiKey:String,selectedGenres:Array},data:function(){return{focusOnCard:!1,search:this.searchInput,apiUrl:"https://api.themoviedb.org/3",searchPaths:{movies:"/search/movie",series:"/search/tv"},placeHolderImage:"https://www.altavod.com/assets/images/poster-placeholder.png",selectedCard:{id:0,title:"",original_title:"",original_language:"",vote_average:0,poster_path:"",overview:""},cards:[],selectedGenresArray:[]}},watch:{searchInput:function(e){this.search=e,this.apiSearch()},selectedGenres:function(e){this.selectedGenresArray=e}},computed:{customCards:function(){var e=this;return this.filteredCards.map((function(t){return{id:t.id,title:t.title||t.name,original_title:e.getOriginalTitleIfDifferentFromTitle(t),original_language:t.original_language,vote_average:t.vote_average,poster_path:e.getPosterCompletePath("w342",t.poster_path),overview:t.overview}}))},filteredCards:function(){var e=this;return this.selectedGenresArray.length>0?Object(v["a"])(this.cards).filter((function(t){var a=!1;return e.selectedGenresArray.forEach((function(e){t.genre_ids.includes(e)&&(a=!0)})),a})):this.cards}},methods:{getOriginalTitleIfDifferentFromTitle:function(e){var t=e.title||e.name,a=e.original_title||e.original_name;return t.toLowerCase()===a.toLowerCase()?"":a},getPosterCompletePath:function(e,t){return t?"https://image.tmdb.org/t/p/"+e+t:this.placeHolderImage},apiSearch:function(){var e=this;C.a.get(this.apiUrl+this.searchPaths[this.searchCategory],{params:{api_key:this.apiKey,language:this.searchLanguage,query:this.search}}).then((function(t){var a;e.cards=[],(a=e.cards).push.apply(a,Object(v["a"])(t.data.results))}))},onCardClick:function(e){this.selectedCard=e}}},W=J,X=(a("eb84"),Object(d["a"])(W,m,b,!1,null,"032b0efc",null)),z=X.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filter-container"},e._l(e.genres,(function(t){return a("CustomCheckBox",{key:t.id,attrs:{genre:t},on:{"click-genre":e.onClickGenre}})})),1)},Y=[],Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"customCheckBox",class:{active:e.isChecked},on:{click:e.onClick}},[e.isChecked?e._e():a("FontAwesomeIcon",{attrs:{icon:["far","square"]}}),e.isChecked?a("FontAwesomeIcon",{attrs:{icon:["far","check-square"]}}):e._e(),a("div",{staticClass:"label"},[e._v(e._s(e.genre.name))])],1)},ee=[],te={name:"CustomCheckBox",components:{FontAwesomeIcon:o["a"]},props:{genre:Object},data:function(){return{isChecked:!1}},computed:{genreAndStatus:function(){return{id:this.genre.id,isChecked:this.isChecked}}},methods:{onClick:function(){this.isChecked=!this.isChecked,this.$emit("click-genre",this.genreAndStatus)}}},ae=te,ne=(a("fe97"),Object(d["a"])(ae,Z,ee,!1,null,"0364d591",null)),re=ne.exports,ie={name:"CardsFilter",components:{CustomCheckBox:re},props:{genres:Array},methods:{onClickGenre:function(e){this.$emit("click-genre",e)}}},se=ie,ce=(a("5ac3"),Object(d["a"])(se,Q,Y,!1,null,"1a469b82",null)),oe=ce.exports,le={name:"Main",components:{CardsContainer:z,CardsFilter:oe},props:{searchInput:String,searchLanguage:String,filterOpened:Boolean},watch:{searchInput:function(){this.search=this.searchInput},filterOpened:function(e){this.isFilterOpened=e,e||(this.selectedGenres=[])}},data:function(){return{search:this.searchInput,apiKey:"9050243653544e50d5a8b17836489f93",isFilterOpened:!1,genres:[],selectedGenres:[]}},mounted:function(){var e=this;C.a.get("https://api.themoviedb.org/3/genre/movie/list",{params:{api_key:this.apiKey,language:this.searchLanguage}}).then((function(t){var a;(a=e.genres).push.apply(a,Object(v["a"])(t.data.genres))}))},methods:{onClickGenre:function(e){e.isChecked?this.selectedGenres.push(e.id):this.selectedGenres.length>0&&this.selectedGenres.splice(this.selectedGenres.indexOf(e.id),1)}}},ue=le,de=(a("3c4e"),Object(d["a"])(ue,h,f,!1,null,"6b6089f0",null)),ge=de.exports,pe={name:"App",components:{Header:p,Main:ge},data:function(){return{searchInput:"",searchLanguage:"it",isFilterOpened:!1}}},he=pe,fe=(a("5c0b"),Object(d["a"])(he,r,i,!1,null,null,null)),ve=fe.exports,_e=a("ecee"),Ce=a("c074"),me=a("b702");_e["c"].add(Ce["b"],me["c"],Ce["a"],Ce["c"],me["b"],me["a"]),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(ve)}}).$mount("#app")},5917:function(e,t,a){},"5ac3":function(e,t,a){"use strict";a("0c3f")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"609a":function(e,t,a){},"62be":function(e,t,a){},"6ce5":function(e,t,a){},"9c0c":function(e,t,a){},b80b:function(e,t,a){"use strict";a("2e35")},eb84:function(e,t,a){"use strict";a("5917")},f2ca:function(e,t,a){"use strict";a("6ce5")},fe97:function(e,t,a){"use strict";a("416d")}});
//# sourceMappingURL=app.6efdc477.js.map